## Ttypescript

### 定义原始数据类型

- `null` 和 `undefined` 是所有类型的子类型。可以复制给任何类型

- ```typescript
  let arrOfNum: number[] = [1, 2, 3, 4]; // 定义元素类型为数子的数组
  ```

- `tuple` 元组类型

  ```typescript
  let user: [string, number] = ['jolly', 30]; // 两项，第一项类型为 string, 第二项类型为 number
  ```

- 函数声明

  ```typescript
  // 指定参数类型和返回值类型
  function add(x: number, y: number, z?: number): number{
    return x + y;
  }
  let add2 = (x: number, y: number, z?: number): number => {
    return x + y;
  }
  
  let add3: (x: number, y:number) => number = add2;
  ```

- Type inference 类型推断

  ```typescript
  let s = 'str'; // s 类型判定为 'string'. 不能被赋值为非 'string' 类型的值。
  ```

### interface

- 定义对象类型及形状

```typescript
interface Person {
  readonly id: number,
  name: string,
  age?: number
}
let jolly: Person = {
  name: 'jolly',
  age: 30,
  id: 1 // id不能被修改
}
```

- 定义函数类型

```typescript
interface Count {
  (x: number, y: number): number // 定义参数类型和返回值
}
const sum: Count = (x: number, y: number) => x + y;
```

- Indexable type 可索引类型

```typescript
interface Randmap {
  [propName: string]: string;
}
const map = {
  a: 'a',
  b: 'b',
  c: 'c'
  // ...
}
```

- LIke Array 类型

```typescript
interface LikeArray {
  [index: number]: string
}
const likeArray: LikeArray = ['a', 'b', 'c']; 
likeArray[0]; // 只能访问，没有其他方法
```

- duck typing

```typescript
// 定义一个四不像
interface FunWithProps {
  (x: number): number;
  name: string;
}
const a: FunWithProps = (x: number) => {
  return x
}
a.name = 'adf'
```

### 类和接口

- `public`
- `private`
  - 只在实例上可以访问，子类上不能访问
- `protected`
  - 只在子类上可以访问，实例上不能访问
- interface 约束类，implements 实现类

```typescript
interface ClockInterface {
  currentTime: number,
  alert(): void
}
interface GameInterface {
  play(): void
}

class Cellphone implements ClockInterface, GameInterface {
  currentTime: number = 123;
  alert() {

  }
  play() {
    
  }
}
```

### interface 约束构造函数

类的类型由两部分组成：

- 静态类型，这个类本身的类型
- 实例类型，使用 `new` 关键字创建的实例的类型

构造函数由约束静态类型，从而得到约束

```typescript
// 约束静态类型
interface ClockStatic {
  new (h: number, m: number): void;
  time: number
}
// 约束实例类型的属性方法
interface ClockInterface {
  currentTime: number,
  alert(): void
}
// 约束实例类型的属性方法
interface GameInterface {
  play(): void
}

const Cellphone: ClockStatic = class Cellphone implements ClockInterface, GameInterface {
  constructor(h: number, m1: number){
    
  }
  static time: 12
  currentTime: number = 123;
  alert() {

  }
  play() {

  }
}
```









